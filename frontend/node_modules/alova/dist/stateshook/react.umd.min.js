!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):(e="undefined"!=typeof globalThis?globalThis:e||self).reactHook=t(e.React)}(this,(function(e){"use strict";const t="undefined";typeof window===t&&typeof process!==t&&process.cwd;const o=()=>{},n=(e=0)=>{let t;return o=>{t&&clearTimeout(t),t=((e,t=0)=>setTimeout(e,t))(o,e)}},s="undefined",r=void 0;typeof window===s&&typeof process!==s&&process.cwd;const u=e=>2 in e?e[2]:e[0],c=e=>e.current,f=(e,t)=>{e.current=t};return{name:"React",create:t=>e.useState(t),export:u,dehydrate:u,update:(e,t)=>{t[2]=e,t[1](e)},memorize:t=>{const n=e.useRef(o);return f(n,t),e.useCallback(((...e)=>c(n)(...e)),[])},ref:t=>{const o=e.useRef(t);return c(o)===r&&f(o,t),o},effectRequest({handler:t,removeStates:o,saveStates:s,immediate:u,frontStates:a,watchingStates:i=[]}){const d=e.useRef(i),p=c(e.useRef(n()));e.useEffect((()=>{const e=c(d);let n=r;for(const t in i)if(!Object.is(e[t],i[t])){n=Number(t);break}return f(d,i),p((()=>{var e;!u&&("number"!==(e=>typeof e)(e=n)||Number.isNaN(e))||t(n)})),o}),i);const m=e.useRef(!1);e.useEffect((()=>{c(m)?s(a):f(m,true)}))},computed:(t,n)=>[e.useMemo(t,n),o],watch:(t,o)=>{const n=e.useRef(false);e.useEffect((()=>{n.current?o():n.current=!0}),t)},onMounted:t=>{e.useEffect(t,[])},onUnmounted:t=>{e.useEffect((()=>t),[])}}}));
